<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j">

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
          <link href="#{request.contextPath}/resources/css/default.css" rel="stylesheet" type="text/css" />
        <title>Facelets Template</title>
    </head>

    <body>
        <div id="backimg">
            <img src="#{request.contextPath}/images/bg.png" />
        </div>
        <div id="top" >
            <h:form>
                <ui:insert name="top">
                    <table width="100%" border="0">
                        <tr>
                            <td  width="20%">
                        <h:graphicImage value="/images/soco.png"/>
                        </td>
                        <td width="60%" style="text-align: center">
                        <ui:insert name="message">
                        </ui:insert>
                        </td>
                         <td width="20%">
                            <div style="vertical-align: top;text-align: right;" >
                                <h:panelGrid columns="2">
                        <h:commandButton image="/icons/ico_decon.png" action="#{gsLogin.logout}"/>
                        <h:commandLink value="Deconnexion" styleClass="titreLibelle" action="#{gsLogin.logout}"/>
                        <h:commandButton image="/icons/user_green.png" action="/parametrageSoco/updatUserClient.xhtml"/>
                        <h:commandLink value="#{gsLogin.user.username}" styleClass="titreLibelle" action="/parametrageSoco/updatUserClient.xhtml"/>
                        <h:commandButton image="/icons/per.png"/>
                        <h:outputText value="#{gsLogin.currentPeriode.dateDebut} - #{gsLogin.currentPeriode.dateFin}" styleClass="titreLibelle" />
                           </h:panelGrid>
                            </div>
                        </td>
                        </tr>
                    </table>
                    <rich:toolBar height="30">
                        <ui:repeat value="#{gsLogin.user.lstPermission}" var="p">
                            <h:commandLink value="#{p.name}" action="#{redirectController.redirect}" style="color: #ffffff">
                                <f:param name="outcome" value="#{p.redirect}"/>
                            </h:commandLink>
                                <rich:spacer width="50"/>
                        </ui:repeat>  
                                <rich:toolBarGroup  location="right">
                                    <h:commandButton id="stat" image="/icons/tb.png" action="/resultat/stat"/>
                        </rich:toolBarGroup>
                        <rich:toolTip for="stat" value="#{msg.tableaudeBordGraph}"/>

                    </rich:toolBar>
                </ui:insert>
                <rich:spacer height="5"/>
            </h:form>
        </div>
        <div id="content">
            <table width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td width="20%" style="vertical-align:top; padding-right:5px">
                <h:panelGroup style="width:100%;">
                    <ui:insert name="menu" >
                        <h:form>

                            <rich:panelMenu label="Menu">
                                <rich:panelMenuGroup  label="Menu" expanded="true"  >


                                    <rich:panelMenuGroup label="#{msg.lib_caisse}" style="margin-left: -20px;" expanded="true"   >
                                        <rich:panelMenuGroup label="#{msg.lib_encaissement}" style="margin-left: -20px;" expanded="true">
                                            <rich:panelMenuItem  label="#{msg.lib_venteproduit}" style="margin-left: -20px;" action="#{redirectController.redirect}"><f:param value="lstVenteProduit" name="outcome"/></rich:panelMenuItem>
                                            <rich:panelMenuItem  label="#{msg.lib_venteIntrant}" style="margin-left: -20px;"  action="#{redirectController.redirect}"><f:param value="lstVenteProduitIntrant" name="outcome"/></rich:panelMenuItem>
                                            <rich:panelMenuItem  label="#{msg.lib_detteFournisseurProduit}" style="margin-left: -20px;"   action="#{redirectController.redirect}"><f:param value="detteFP" name="outcome"/></rich:panelMenuItem>
                                            <rich:panelMenuItem  label="#{msg.lib_detteFournisseurIntrant}" style="margin-left: -20px;" action="#{redirectController.redirect}"><f:param value="detteFI" name="outcome"/></rich:panelMenuItem>
                                            <rich:panelMenuItem  label="#{msg.lib_detteClient}" style="margin-left: -20px;"  action="#{redirectController.redirect}"><f:param value="detteClient" name="outcome"/></rich:panelMenuItem>
                                        </rich:panelMenuGroup>
                                        <rich:panelMenuGroup label="#{msg.lib_debourse}" style="margin-left: -20px;" expanded="true">
                                            <rich:panelMenuItem label="#{msg.lib_achatProduit}" style="margin-left: -20px;"  action="#{redirectController.redirect}"><f:param value="lstAchatProduit" name="outcome"/></rich:panelMenuItem>
                                            <rich:panelMenuItem  label="#{msg.lib_achatIntrant}" style="margin-left: -20px;"  action="#{redirectController.redirect}"><f:param value="lstAchatProduitIntrant" name="outcome"/></rich:panelMenuItem>
                                            <rich:panelMenuItem  label="#{msg.lib_remboursementavanceClient}" style="margin-left: -20px;"  action="#{redirectController.redirect}"><f:param value="rmbClient" name="outcome"/></rich:panelMenuItem>
                                            <rich:panelMenuItem label="#{msg.lib_remboursementDettesFournisseurProduit}" style="margin-left: -20px;" action="#{redirectController.redirect}"><f:param value="rmbFP" name="outcome"/></rich:panelMenuItem>
                                            <rich:panelMenuItem  label="#{msg.lib_remboursementDettesFournisseurIntrant}" style="margin-left: -20px;"  action="#{redirectController.redirect}"><f:param value="rmbFI" name="outcome"/></rich:panelMenuItem>
                                            <rich:panelMenuItem  label="#{msg.lib_paiementCharges}" style="margin-left: -20px;" action="#{redirectController.redirect}"><f:param value="lstTransactionCharge" name="outcome"/></rich:panelMenuItem>
                                            <rich:panelMenuItem  label="#{msg.lib_diversPorduitEtAutresEncaissement}" style="margin-left: -20px;" action="#{redirectController.redirect}"><f:param value="lstAvanceproduit" name="outcome"/></rich:panelMenuItem>
                                        </rich:panelMenuGroup>
                                    </rich:panelMenuGroup>
                                </rich:panelMenuGroup>

                            </rich:panelMenu>

                        </h:form>
                    </ui:insert>
                </h:panelGroup>
                </td>
                <td />
                <td  width="79%" style="vertical-align:top;" >
                <h:panelGroup style="width:100%;">
                    <ui:insert name="content" ></ui:insert>
                </h:panelGroup>
                </td>

                </tr>
            </table>
        </div>
        <center><div id="bottom">
                <ui:insert name="bottom">Copyright @ 2011 Gfplus CANADA </ui:insert>
            </div></center>

    </body>

</html>
