<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core">

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="shortcut icon" href="#{request.contextPath}/icons/socoico.gif" />
        <link href="#{request.contextPath}/resources/css/default.css" rel="stylesheet" type="text/css" />
        <title>Facelets Template</title>
    </head>

    <body>
        <div id="backimg">
	  <img src="#{request.contextPath}/images/bg.png" />
	</div>
  
        <div id="top">
            <h:form>
                <ui:insert name="top">
                    <table width="100%" border="0">
                        <tr>
                            <td  width="20%">
                        <h:graphicImage value="/images/soco.png"/>
                        </td>
                        <td width="60%" style="text-align: center">
                        <ui:insert name="message">
                        </ui:insert>
                        </td>
                        <td width="14%">
                            <div style="vertical-align: top;" align="left">
                                <h:commandButton image="/icons/ico_decon.png" action="#{gsLogin.logout}"/>
                        <rich:spacer width="5"/>
                        <h:commandLink value="Deconnexion" styleClass="titreLibelle" action="#{gsLogin.logout}"/><br/>
                        <h:commandButton image="/icons/user_green.png"/>
                        <rich:spacer width="5"/>
                        <h:commandLink value="#{gsLogin.user.username}" styleClass="titreLibelle"/><br/>
                        <h:outputText value="#{msg.lib_periode}" styleClass="titreLibelle"/>
                        <rich:spacer width="5"/>
                        <h:outputText value="#{gsLogin.currentPeriode.periode}" styleClass="titreLibelle"/>
                            </div>
                        </td>
                        </tr>
                    </table>
                    <rich:toolBar height="30">
                        <ui:repeat value="#{gsLogin.user.lstPermission}" var="p">
                            <h:commandLink value="#{p.name}" action="#{redirectController.redirect}" style="color: #ffffff">
                                <f:param name="outcome" value="#{p.redirect}"/>
                            </h:commandLink>
                                <rich:spacer width="50"/>
                        </ui:repeat>  
                      
                    
                  
                        

                    </rich:toolBar>
                </ui:insert>
                <rich:spacer height="5"/>
            </h:form>
        </div>
        <div id="content">
            <table width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td width="20%" style="vertical-align:top; padding-right:5px">
                <h:panelGroup style="width:100%;">
                    <ui:insert name="menu" >
                        <h:form>

                            <rich:panelMenu label="Menu">
                                <rich:panelMenuGroup  label="Menu" expanded="true"  >
                                    <rich:panelMenuGroup  label="#{msg.Lib_parametrage}" expanded="true"  >
                                        <rich:panelMenuItem  label="#{msg.lib_fournisseurProduit}" action="lstFP" />
                                        <rich:panelMenuItem label="#{msg.lib_fournisseurIntrant}" action="lstFI" />
                                        <rich:panelMenuItem label="#{msg.lib_client}" action="lstClient" />
                                        <rich:panelMenuItem  label="#{msg.lib_produit}" action="lstProduit" />
                                        <rich:panelMenuItem  label="#{msg.lib_intrant}" action="lstProduitIntrant" />
                                        <rich:panelMenuItem  label="#{msg.lib_magasin}" action="lstFP" />
                                        <rich:panelMenuItem  label="#{msg.lib_charteCompte}" action="lstCharteCompte" />
                                    </rich:panelMenuGroup>

                                    <rich:panelMenuGroup label="#{msg.lib_caisse}" expanded="true"   >
                                        <rich:panelMenuGroup label="#{msg.lib_encaissement}" expanded="true">
                                            <rich:panelMenuItem  label="#{msg.lib_detteFournisseurProduit}" action="detteFP" />
                                            <rich:panelMenuItem  label="#{msg.lib_detteFournisseurIntrant}" action="detteFI"/>
                                            <rich:panelMenuItem  label="#{msg.lib_detteClient}" action="detteClient"/>
                                        </rich:panelMenuGroup>
                                        <rich:panelMenuGroup label="#{msg.lib_debourse}" expanded="true">
                                            <rich:panelMenuItem label="#{msg.lib_achatProduit}" action="lstFP"/>
                                            <rich:panelMenuItem  label="#{msg.lib_achatIntrant}" action="lstFP"/>
                                            <rich:panelMenuItem  label="#{msg.lib_remboursementavanceClient}" action="rmbClient" />
                                            <rich:panelMenuItem label="#{msg.lib_remboursementDettesFournisseurProduit}" action="rmbFP"/>
                                            <rich:panelMenuItem  label="#{msg.lib_remboursementDettesFournisseurIntrant}" action="rmbFI" />
                                            <rich:panelMenuItem  label="#{msg.lib_paiementCharges}" />
                                            <rich:panelMenuItem  label="#{msg.lib_avanceFournisseurproduit}" action="lstFP"/>
                                        </rich:panelMenuGroup>
                                    </rich:panelMenuGroup>
                                </rich:panelMenuGroup>

                            </rich:panelMenu>

                        </h:form>
                    </ui:insert>
                </h:panelGroup>
                </td>
                <td  width="79%" style="vertical-align:top;" >
                <h:panelGroup style="width:100%;">
                    <ui:insert name="content" ></ui:insert>
                </h:panelGroup>
                </td>

                </tr>
            </table>
        </div>
        <center><div id="bottom">
                <ui:insert name="bottom">Copyright @ 2011 Gfplus CANADA </ui:insert>
            </div></center>

    </body>

</html>
