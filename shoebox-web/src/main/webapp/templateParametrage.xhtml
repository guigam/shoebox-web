<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j">

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
         <link rel="shortcut icon" href="#{request.contextPath}/icons/socoico.gif" />
          <link href="#{request.contextPath}/resources/css/default.css" rel="stylesheet" type="text/css" />
        <title>Facelets Template</title>
    </head>

    <body>
        <div id="backimg">
            <img src="#{request.contextPath}/images/bg.png" />
        </div>
        <div id="top">
            <h:form>
                <ui:insert name="top">
                    <table width="100%" border="0">
                        <tr>
                            <td  width="19%">
                        <h:graphicImage value="/images/soco.png"/>
                        </td>
                        <td width="60%" style="text-align: center" >
                        <ui:insert name="message">
                        </ui:insert>
                        </td>
                       <td width="20%">
                            <div style="vertical-align: top;text-align: right;" >
                                <h:panelGrid columns="2">
                        <h:commandButton image="/icons/ico_decon.png" action="#{gsLogin.logout}"/>
                        <h:commandLink value="Deconnexion" styleClass="titreLibelle" action="#{gsLogin.logout}"/>
                        <h:commandButton image="/icons/user_green.png" action="/parametrageSoco/updatUserClient.xhtml"/>
                        <h:commandLink value="#{gsLogin.user.username}" styleClass="titreLibelle" action="/parametrageSoco/updatUserClient.xhtml"/>
                        <h:commandButton image="/icons/per.png"/>
                        <h:outputText value="#{gsLogin.currentPeriode.dateDebut} - #{gsLogin.currentPeriode.dateFin}" styleClass="titreLibelle" />
                           </h:panelGrid>
                            </div>
                        </td>
                        </tr>
                    </table>
                    <rich:toolBar height="30">
                        <ui:repeat value="#{gsLogin.user.lstPermission}" var="p">
                            <h:commandLink value="#{p.name}" action="#{redirectController.redirect}" style="color: #ffffff">
                                <f:param name="outcome" value="#{p.redirect}"/>
                            </h:commandLink>
                                <rich:spacer width="50"/>
                        </ui:repeat>
                                    <rich:toolBarGroup  location="right">
                                        <h:commandButton id="stat" image="/icons/tb.png" action="/resultat/stat"/>
                        </rich:toolBarGroup>
                         <rich:toolTip for="stat" value="#{msg.tableaudeBordGraph}"/>
                    </rich:toolBar>
                </ui:insert>
                <rich:spacer height="5"/>
            </h:form>
        </div>
        <div id="content">
            <table width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td width="20%" style="vertical-align:top; padding-right:5px">
                <h:panelGroup style="width:100%;">
                    <ui:insert name="menu" >
                        <h:form>
                            <rich:panelMenu label="Menu">
                                <rich:panelMenuGroup  label="Menu" expanded="true"  >
                                    <rich:panelMenuGroup  label="#{msg.Lib_parametrage}" expanded="true"  >
                                        <rich:panelMenuItem  label="#{msg.lib_fournisseurProduit}" action="lstFP" />
                                        <rich:panelMenuItem label="#{msg.lib_fournisseurIntrant}" action="lstFI" />
                                        <rich:panelMenuItem label="#{msg.lib_client}" action="lstClient" />
                                        <rich:panelMenuItem  label="#{msg.lib_produit}" action="lstProduit" />
                                        <rich:panelMenuItem  label="#{msg.lib_intrant}" action="lstProduitIntrant" />
                                        <rich:panelMenuItem  label="#{msg.lib_magasin}" action="lstMagasin" />
                                        <rich:panelMenuItem  label="#{msg.lib_compteEncaisse}" action="lstCompteEncaisse" />
                                        <rich:panelMenuItem  label="#{msg.lib_charteCompte}" action="lstCharteCompte" />
                                    </rich:panelMenuGroup>
                                </rich:panelMenuGroup>
                            </rich:panelMenu>
                        </h:form>
                    </ui:insert>
                </h:panelGroup>
                </td>
                <td/>
                <td  width="79%" style="vertical-align:top;" >
                <h:panelGroup style="width:100%;">
                    <ui:insert name="content" ></ui:insert>
                </h:panelGroup>
                </td>

                </tr>
            </table>
        </div>
        <center><div id="bottom">
                <ui:insert name="bottom">Copyright @ 2011 Gfplus CANADA </ui:insert>
            </div></center>

    </body>

</html>
